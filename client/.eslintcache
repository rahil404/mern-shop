[{"C:\\ReactJS\\react-shop-2\\client\\src\\App.js":"1","C:\\ReactJS\\react-shop-2\\client\\src\\Dashboard.js":"2","C:\\ReactJS\\react-shop-2\\client\\src\\reducer.js":"3","C:\\ReactJS\\react-shop-2\\client\\src\\Login.js":"4","C:\\ReactJS\\react-shop-2\\client\\src\\index.js":"5","C:\\ReactJS\\react-shop-2\\client\\src\\Checkout.js":"6","C:\\ReactJS\\react-shop-2\\client\\src\\Home.js":"7","C:\\ReactJS\\react-shop-2\\client\\src\\CheckoutProduct.js":"8","C:\\ReactJS\\react-shop-2\\client\\src\\Subtotal.js":"9","C:\\ReactJS\\react-shop-2\\client\\src\\Product.js":"10","C:\\ReactJS\\react-shop-2\\client\\src\\Header.js":"11","C:\\ReactJS\\react-shop-2\\client\\src\\StateProvider.js":"12","C:\\ReactJS\\react-shop-2\\client\\src\\EditProduct.js":"13","C:\\ReactJS\\react-shop-2\\client\\src\\AddProduct.js":"14","C:\\ReactJS\\react-shop-2\\client\\src\\reportWebVitals.js":"15","C:\\ReactJS\\react-shop-2\\client\\src\\CardInput.js":"16","C:\\ReactJS\\react-shop-2\\client\\src\\MyCheckoutForm.js":"17","C:\\ReactJS\\react-shop-2\\client\\src\\Signin.js":"18","C:\\ReactJS\\react-shop-2\\client\\src\\Signup.js":"19","C:\\ReactJS\\react-shop-2\\client\\src\\Purchased.js":"20"},{"size":3734,"mtime":1614053427149,"results":"21","hashOfConfig":"22"},{"size":3808,"mtime":1614054284178,"results":"23","hashOfConfig":"22"},{"size":1976,"mtime":1613970672217,"results":"24","hashOfConfig":"22"},{"size":2464,"mtime":1614049963538,"results":"25","hashOfConfig":"22"},{"size":689,"mtime":1609638856919,"results":"26","hashOfConfig":"22"},{"size":3211,"mtime":1614044780709,"results":"27","hashOfConfig":"22"},{"size":5158,"mtime":1613966229375,"results":"28","hashOfConfig":"22"},{"size":2168,"mtime":1613970536097,"results":"29","hashOfConfig":"22"},{"size":1588,"mtime":1612672383908,"results":"30","hashOfConfig":"22"},{"size":2243,"mtime":1613967689264,"results":"31","hashOfConfig":"22"},{"size":3151,"mtime":1614055100718,"results":"32","hashOfConfig":"22"},{"size":473,"mtime":1601433487660,"results":"33","hashOfConfig":"22"},{"size":5668,"mtime":1614121381655,"results":"34","hashOfConfig":"22"},{"size":5281,"mtime":1614053884672,"results":"35","hashOfConfig":"22"},{"size":362,"mtime":1609451604392,"results":"36","hashOfConfig":"22"},{"size":631,"mtime":1610490455417,"results":"37","hashOfConfig":"22"},{"size":3314,"mtime":1614054545162,"results":"38","hashOfConfig":"22"},{"size":3860,"mtime":1614117538727,"results":"39","hashOfConfig":"22"},{"size":2541,"mtime":1614118711292,"results":"40","hashOfConfig":"22"},{"size":5686,"mtime":1614118437860,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"nah0my",{"filePath":"44","messages":"45","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"47"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"47"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"47"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\ReactJS\\react-shop-2\\client\\src\\App.js",["94","95","96"],"C:\\ReactJS\\react-shop-2\\client\\src\\Dashboard.js",["97","98","99","100"],"import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory, Redirect } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport axios from 'axios';\r\nimport {Image} from 'cloudinary-react';\r\n// import \"./Login.css\";\r\n\r\n\r\nfunction Dashboard() {\r\n  const token  = localStorage.getItem(\"auth-token\");\r\n  \r\n  const [{ products }, dispatch] = useStateValue();\r\n  const Product = props => (\r\n  <tr>\r\n    <td>\r\n      <Image\r\n        style = {{width: \"40px\"}}\r\n        cloudName = \"dr1xkn8l3\"\r\n        publicId = {props.product.image}\r\n       />\r\n    </td>\r\n    <td>{props.product.name}</td>\r\n    <td>{props.product.price}</td>\r\n    <td>{props.product.desc}</td>\r\n    <td>{props.product.register_date.substring(0,10)}</td>\r\n    <td>\r\n      <Link \r\n      to={{ pathname: \"/products/edit/\"+props.product._id, \r\n      state: {\r\n        name: props.product.name, price: props.product.price, desc: props.product.desc\r\n      } \r\n      }}>\r\n        Edit\r\n      </Link> | <a style={{color: \"red\"}} href=\"#\" onClick={() => { if(window.confirm('Delete the product?')){props.deleteProduct(props.product._id)}; }}>Delete</a>\r\n    </td>\r\n  </tr>\r\n)\r\n\r\n  const history = useHistory();\r\n\r\n  const user  = localStorage.getItem(\"user\");\r\n  const adminLoggedIn  = localStorage.getItem(\"adminLoggedIn\");\r\n//delete product func\r\n\r\nconst deleteProduct = (id) => {\r\n    axios.delete('http://localhost:5000/api/products/'+id, { headers: {\"x-auth-token\": token} })\r\n      .then(response => { \r\n        dispatch({\r\n          type: \"SET_PRODUCTS\",\r\n          products: products.filter(el => el._id !== id)\r\n        });\r\n      });\r\n  }\r\nconst productList = () => {\r\n    return products.map(currentproduct => {\r\n      return <Product product={currentproduct} deleteProduct={deleteProduct} key={currentproduct._id}/>;\r\n    })\r\n  }\r\n\r\n//logout func\r\nconst logout = (event) => {\r\n    event.preventDefault();\r\n    localStorage.removeItem(\"adminLoggedIn\");\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n    localStorage.setItem(\"user\", \"\");\r\n    history.push(\"/admin\");\r\n      \r\n  };\r\n\r\nif (adminLoggedIn) {\r\nreturn (\r\n      <div>\r\n\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <a className=\"navbar-brand\" href=\"#\">Admin Area</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <div className=\"navbar-nav ml-auto\">\r\n            <p style={{marginRight: \"5px\"}}><b>Hello, {user}</b></p>\r\n            <button style={{height: \"40%\"}} className=\"btn btn-primary btn-sm\" onClick={logout}>Logout</button>\r\n          </div>\r\n              \r\n        </div>\r\n      </nav>\r\n              \r\n\r\n        <div style={{margin: \"30px auto\", width: \"75%\"}}>\r\n            <h4 style={{clear: \"both\", float: \"left\"}}>Product List</h4>\r\n            <Link style={{float: \"right\"}} className=\"btn btn-success btn-sm\" to={\"/products/add\"}>Add Product</Link>\r\n            <table className=\"table\">\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th></th>\r\n                  <th>Name</th>\r\n                  <th>Price</th>\r\n                  <th>Description</th>             \r\n                  <th>Date</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                { productList() }\r\n              </tbody>\r\n            </table>\r\n        </div>\r\n        \r\n      </div>\r\n  );\r\n} else {\r\n  return <Redirect to=\"/admin\" />\r\n}\r\n}\r\n\r\nexport default Dashboard;\r\n",["101","102"],"C:\\ReactJS\\react-shop-2\\client\\src\\reducer.js",["103","104","105"],"export const initialState = {\r\n  basket: [],\r\n  products: [],\r\n  purchases: [],\r\n  user: null,\r\n};\r\n\r\nexport const getBasketTotal = (basket) =>\r\n  basket?.reduce((amount, item) => (item.price*item.quantity) + amount, 0);\r\n\r\nfunction reducer(state, action) {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"SET_TOKEN\":\r\n      return {\r\n        ...state,\r\n        token: action.token,\r\n      };\r\n    case \"SET_PRODUCTS\":\r\n      return {\r\n        ...state,\r\n        products: action.products,\r\n      };\r\n    case \"SET_PURCHASES\":\r\n      return {\r\n        ...state,\r\n        purchases: action.purchases,\r\n      };\r\n    case \"ADD_PURCHASE\":\r\n      //logic for adding item to basket\r\n      return {\r\n        ...state,\r\n        purchases: [...state.purchases, action.purchase],\r\n      };\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n    case \"ADD_TO_BASKET\":\r\n      //logic for adding item to basket\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n      break;\r\n    case \"UPDATE_BASKET\":\r\n      //logic for updating item in basket\r\nconsole.log(action.item);\r\n      const index2 = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.item.id\r\n      );\r\nconsole.log(index2);\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket.slice(0,index2), action.item, ...state.basket.slice(index2+1)],\r\n      };\r\n      break;\r\n    case \"REMOVE_FROM_BASKET\":\r\n      //logic for removing item from basket\r\n      let newBasket = [...state.basket];\r\n\r\n      const index = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n      } else {\r\n        console.warn(`Cant remove product as no item with the id`);\r\n      }\r\n\r\n      return { ...state, basket: newBasket };\r\n      break;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n",["106","107"],"C:\\ReactJS\\react-shop-2\\client\\src\\Login.js",["108","109","110"],"import React, { useState } from \"react\";\r\nimport axios from 'axios';\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport \"./Login.css\";\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nfunction Login() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n\r\n  let loggedIn  = localStorage.getItem(\"user\");\r\n  const adminLoggedIn  = localStorage.getItem(\"adminLoggedIn\");\r\n  \r\n  const login = (event) => {\r\n    event.preventDefault();\r\n\r\n    const user = {\r\n      email: email,\r\n      password: password\r\n    }\r\n// console.log(user);\r\n// console.log(\"token before login\", token);\r\n    axios.post('http://localhost:5000/api/auth', user)\r\n      .then(res => {\r\n        console.log(\"logged in\", res.data);\r\n// console.log(\"token after login\", token);\r\n        if (res.data.user.isAdmin) {\r\n          localStorage.removeItem(\"customerLoggedIn\");\r\n          localStorage.setItem(\"adminLoggedIn\", true);\r\n          localStorage.setItem(\"auth-token\", res.data.token);\r\n          localStorage.setItem(\"user\", res.data.user.name);\r\n          history.push(\"/dashboard\");\r\n        } else {\r\n          setShow(true);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        setShow(true);\r\n        console.log(\"failed logged in\", err);\r\n      })\r\n\r\n  };\r\n\r\nif (adminLoggedIn) {\r\n  return <Redirect to=\"/dashboard\" />\r\n} else {\r\n  return (\r\n    <div className=\"login\">\r\n\r\n    \r\n\r\n      <div className=\"login__container\">\r\n        <h1>Sign in</h1>\r\n        <form onSubmit={login}>\r\n          <h5>E-mail</h5>\r\n          <input\r\n            required\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n          />\r\n          <h5>Password</h5>\r\n          <input\r\n            required\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(event) => setPassword(event.target.value)}\r\n          />\r\n          <button type=\"submit\" className=\"login__signInButton\">\r\n            Sign In\r\n          </button>\r\n        </form>\r\n\r\n        <div style={{marginTop: \"5px\"}}>\r\n          {show ? (\r\n          <Alert severity=\"error\" onClose={() => setShow(false)}>Incorrect email or password</Alert>\r\n            ) : (null)}\r\n        </div>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n} \r\n}\r\n\r\nexport default Login;\r\n","C:\\ReactJS\\react-shop-2\\client\\src\\index.js",[],"C:\\ReactJS\\react-shop-2\\client\\src\\Checkout.js",["111","112","113"],"C:\\ReactJS\\react-shop-2\\client\\src\\Home.js",["114","115","116","117","118","119","120"],"import React, { useState } from \"react\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport \"./Home.css\";\r\nimport Product from \"./Product\";\r\nimport Carousel from 'react-bootstrap/Carousel';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport Fade from 'react-reveal/Fade';\r\n\r\nfunction Home(props) {\r\n  // set interval to null of carousel to stop autoplaying\r\n  const [{ products }, dispatch] = useStateValue();\r\n  const [active, setActive] = useState(1);\r\n\r\n  function calculate(array) {\r\n    if (array.length < 1) {\r\n      return 0;\r\n    }\r\n    return array.reduce((a, b) => a + b) / array.length;\r\n  }\r\n\r\n  const changeActive = (p) => {\r\n    setActive(p);\r\n  }\r\n  const show = () => {\r\n    if (props.products.length > 5) {\r\n    return (  \r\n      <div style={{marginTop: \"20px\"}} className=\"d-flex justify-content-center\">\r\n        <Pagination>\r\n          {(active != 1) ? (\r\n            <Pagination.Prev onClick={() => changeActive(active-1)} />\r\n          ) : (null)}\r\n          <Pagination.Item active={active === 1} onClick={() => changeActive(1)}>{1}</Pagination.Item>\r\n          <Pagination.Item active={active === 2} onClick={() => changeActive(2)}>{2}</Pagination.Item>\r\n          {((Math.floor(props.products.length/5)+1) == 3) ? (\r\n          <Pagination.Item active={active === 3} onClick={() => changeActive(3)}>{3}</Pagination.Item>\r\n          ) : (null)}\r\n          {(((Math.floor(props.products.length/5)+1) == 2 && active !=2) || ((Math.floor(props.products.length/5)+1) == 3 && active !=3)) ? (\r\n          <Pagination.Next onClick={() => changeActive(active+1)} />\r\n          ) : (null)}\r\n        </Pagination>\r\n      </div>\r\n      );\r\n  } else {\r\n    return null;\r\n  }\r\n  }\r\n  return (\r\n    <div className=\"home\" style={{backgroundColor: \"#ebebe0\"}}>\r\n\r\n      <Carousel interval={null} style={{marginBottom: \"-120px\"}}>\r\n        <Carousel.Item>\r\n          <img\r\n            style={{height: \"750px\"}}\r\n            className=\"d-block w-100\"\r\n            src=\"https://images.pexels.com/photos/2447042/pexels-photo-2447042.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\r\n            alt=\"First slide\"\r\n          />\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            style={{height: \"750px\"}}\r\n            className=\"d-block w-100\"\r\n            src=\"https://images.pexels.com/photos/6230456/pexels-photo-6230456.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\r\n            alt=\"Third slide\"\r\n          />\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            style={{height: \"750px\"}}\r\n            className=\"d-block w-100\"\r\n            src=\"https://images.pexels.com/photos/341523/pexels-photo-341523.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\r\n            alt=\"Third slide\"\r\n          />\r\n        </Carousel.Item>\r\n      </Carousel>\r\n\r\n      {/* Product */}\r\n      <Fade bottom>\r\n      <div className=\"home__row\">\r\n        {products[(5*(active-1))+0] ? (\r\n        <Product\r\n          id=\"111\"\r\n          title={products[(5*(active-1))+0] && products[(5*(active-1))+0].name}\r\n          price={products[(5*(active-1))+0] && products[(5*(active-1))+0].price}\r\n          rating={calculate(products[(5*(active-1))+0].rating)}\r\n          image={products[(5*(active-1))+0] && products[(5*(active-1))+0].image}\r\n        />\r\n        ) : (null)}\r\n        {products[(5*(active-1))+1] ? (\r\n        <Product\r\n          id=\"222\"\r\n          title={products[(5*(active-1))+1] && products[(5*(active-1))+1].name}\r\n          price={products[(5*(active-1))+1] && products[(5*(active-1))+1].price}\r\n          rating={calculate(products[(5*(active-1))+1].rating)}\r\n          image={products[(5*(active-1))+1] && products[(5*(active-1))+1].image}\r\n        />\r\n        ) : (null)}\r\n      </div>\r\n      </Fade>\r\n      <div className=\"home__row\">\r\n        {products[(5*(active-1))+2] ? (\r\n        <Product\r\n          id=\"333\"\r\n          title={products[(5*(active-1))+2] && products[(5*(active-1))+2].name}\r\n          price={products[(5*(active-1))+2] && products[(5*(active-1))+2].price}\r\n          rating={calculate(products[(5*(active-1))+2].rating)}\r\n          image={products[(5*(active-1))+2] && products[(5*(active-1))+2].image}\r\n        />\r\n        ) : (null)}\r\n        {products[(5*(active-1))+3] ? (\r\n        <Product\r\n          id=\"444\"\r\n          title={products[(5*(active-1))+3] && products[(5*(active-1))+3].name}\r\n          price={products[(5*(active-1))+3] && products[(5*(active-1))+3].price}\r\n          rating={calculate(products[(5*(active-1))+3].rating)}\r\n          image={products[(5*(active-1))+3] && products[(5*(active-1))+3].image}\r\n        />\r\n        ) : (null)}\r\n        {products[(5*(active-1))+4] ? (\r\n        <Product\r\n          id=\"555\"\r\n          title={products[(5*(active-1))+4] && products[(5*(active-1))+4].name}\r\n          price={products[(5*(active-1))+4] && products[(5*(active-1))+4].price}\r\n          rating={calculate(products[(5*(active-1))+4].rating)}\r\n          image={products[(5*(active-1))+4] && products[(5*(active-1))+4].image}\r\n        />\r\n        ) : (null)}\r\n      </div>\r\n\r\n      {show()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","C:\\ReactJS\\react-shop-2\\client\\src\\CheckoutProduct.js",["121","122"],"C:\\ReactJS\\react-shop-2\\client\\src\\Subtotal.js",["123","124","125"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./Subtotal.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport axios from 'axios';\r\nimport {Elements} from '@stripe/react-stripe-js';\r\nimport MyCheckoutForm from './MyCheckoutForm';\r\nimport {loadStripe} from '@stripe/stripe-js';\r\n\r\nconst stripePromise = loadStripe('pk_test_51I8YnYKYfFgj9AHVZKUt39Do0F1qRy6DYUGm8DsXVlATrBaPN0N5FZQapH6yzivEzSbH1rSnPQmm5xRRYCycEQPB00gO7PU6o4');\r\n\r\nfunction Subtotal() {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n\r\n  const [amount, setAmount] = useState(\"\");\r\nconsole.log(getBasketTotal(basket));\r\n  // const pay = () => {\r\n  //   axios.post('http://localhost:5000/api/pay')\r\n  //   .then(res => {\r\n  //     console.log(res);\r\n  //   })\r\n  // }\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => {\r\n          setAmount(value);\r\n          return (\r\n          <>\r\n            <p style={{paddingLeft: \"15px\"}}>\r\n              Subtotal ({basket.length} item/s): <strong>{`${value}`}</strong>\r\n            </p>\r\n          </>\r\n        )}\r\n        } \r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n      <Elements style={{position: \"relative\", bottom: \"50px\"}} stripe={stripePromise}>\r\n        <MyCheckoutForm amount={amount} />\r\n      </Elements>\r\n      \r\n\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subtotal;\r\n",["126","127"],"C:\\ReactJS\\react-shop-2\\client\\src\\Product.js",["128","129","130","131"],"C:\\ReactJS\\react-shop-2\\client\\src\\Header.js",["132","133","134","135","136","137","138"],"import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasket from \"@material-ui/icons/ShoppingBasket\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Fade from 'react-reveal/Fade';\r\n\r\nfunction Header() {\r\n  const history = useHistory();\r\n  const [{ basket, user, purchases }] = useStateValue();\r\n\r\n  let customerLoggedIn  = localStorage.getItem(\"customerLoggedIn\");\r\n\r\n  const logout = (event) => {\r\n    event.preventDefault();\r\n    localStorage.removeItem(\"auth-token\");\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"customerLoggedIn\");\r\n    localStorage.removeItem(\"user-email\");\r\n    window.location.reload(false);\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg fixed-top navbar-dark bg-dark\">\r\n      {/* logo */}\r\n      <Fade left>\r\n      <Link to=\"/\">\r\n        <img\r\n          style={{width: \"50px\", position: \"relative\", top: \"-10px\"}}\r\n          className=\"header__logo\"\r\n          src=\"https://res.cloudinary.com/dr1xkn8l3/image/upload/v1614055064/logo1_snqcpl.png\"\r\n          alt=\"\"\r\n        />\r\n        <a style={{fontWeight: \"bold\"}} className=\"navbar-brand\" href=\"#\">Online-Shop</a>\r\n        \r\n      </Link>\r\n      </Fade>\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n<Fade right>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          \r\n           <div className=\"header__nav ml-auto\">\r\n            {/* 1st link */}\r\n\r\n            {/* 4th link */}\r\n            \r\n            {customerLoggedIn ? (\r\n\r\n              <div className=\"header__loggedin__list\">\r\n              \r\n                <Link to='/purchased'>\r\n                  <a style={{color: \"white\"}} className=\"header__optionBasket\">\r\n                    Purchased Items\r\n                  </a>\r\n                </Link>\r\n\r\n                <Link to=\"/checkout\">\r\n                  <div style={{color: \"white\"}} className=\"header__optionBasket\">\r\n                    <ShoppingBasket />\r\n                    <span className=\"header__optionLineTwo header__basketCount\">\r\n                      {basket?.length}\r\n                    </span>\r\n                  </div>\r\n                </Link>\r\n\r\n                <button onClick={logout} className=\"btn btn-sm btn-secondary\">\r\n                  Logout\r\n                </button>\r\n                \r\n              </div>\r\n              \r\n              ) : (\r\n              <Link style={{marginRight: \"20px\"}} to=\"/signin\">\r\n                <button className=\"btn btn-md btn-secondary\">\r\n                  Login\r\n                </button>\r\n              </Link>\r\n              )}\r\n            \r\n          </div>\r\n\r\n      </div>\r\n      </Fade>\r\n      {/* 3 links */}\r\n      \r\n      {/* basket icon */}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","C:\\ReactJS\\react-shop-2\\client\\src\\StateProvider.js",[],["139","140"],"C:\\ReactJS\\react-shop-2\\client\\src\\EditProduct.js",["141","142","143","144"],"C:\\ReactJS\\react-shop-2\\client\\src\\AddProduct.js",["145","146","147","148"],"import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory, Redirect, useParams } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport axios from 'axios';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\n\r\nfunction AddProduct() {\r\n      const history = useHistory();\r\n      const [{ products }, dispatch] = useStateValue();\r\n\r\n      let user  = localStorage.getItem(\"user\");\r\n      const adminLoggedIn  = localStorage.getItem(\"adminLoggedIn\");\r\n      const token  = localStorage.getItem(\"auth-token\");\r\n\r\n      const [name, setName] = useState(\"\");\r\n      const [price, setPrice] = useState(\"\");\r\n      const [desc, setDesc] = useState(\"\");\r\n      const [img, setImg] = useState(\"\");\r\n      const [show, setShow] = useState(false);\r\n\r\nconsole.log(img);\r\nconst add = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData();\r\n  formData.append(\"file\", img);\r\n  formData.append(\"upload_preset\", \"jngmzxpk\");\r\n\r\n  // upload image\r\n  await axios.post(\r\n    'https://api.cloudinary.com/v1_1/dr1xkn8l3/image/upload', \r\n    formData)\r\n  .then( async (res) => {\r\n    console.log(res.data.secure_url);\r\n\r\n    const product = {\r\n      name: name,\r\n      price: price,\r\n      desc: desc,\r\n      image: res.data.secure_url\r\n    }\r\n\r\n\r\n    console.log(product);\r\n// add data to mongodb\r\n    await axios.post('http://localhost:5000/api/products/add', product, { headers: {\"x-auth-token\": token} })\r\n      .then(async (res) => {\r\n        console.log(res.data);\r\n        // alert(\"Product Added!\");\r\n        setShow(true);\r\n\r\n        setName(\"\");\r\n        setPrice(\"\");\r\n        setDesc(\"\");\r\n        \r\n\r\n        const pRes = await axios.get('http://localhost:5000/api/products');\r\n        console.log(pRes.data);\r\n        dispatch({\r\n          type: \"SET_PRODUCTS\",\r\n          products: pRes.data\r\n        });\r\n      })\r\n\r\n      setImg(\"\");\r\n  })\r\n  .catch(err => {\r\n    console.log(err);\r\n  })\r\n\r\n    \r\n\r\n  };\r\n\r\nconst logout = (event) => {\r\n    event.preventDefault();\r\n    localStorage.removeItem(\"adminLoggedIn\");\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n    localStorage.setItem(\"user\", \"\");\r\n    history.push(\"/admin\");\r\n      \r\n  };\r\n//   {\r\n// <Image\r\n//         style = {{width: \"200px\"}}\r\n//         cloudName = \"dr1xkn8l3\"\r\n//         publicId = \"https://res.cloudinary.com/dr1xkn8l3/image/upload/v1610384386/h5oiwtto79mfarufnndq.jpg\"\r\n//        />    \r\n//   }\r\n\r\nif (adminLoggedIn) {\r\nreturn (\r\n<div>\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <Link to=\"/dashboard\">\r\n        <a className=\"navbar-brand\" href=\"#\">Admin Area</a>\r\n        </Link>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <div className=\"navbar-nav ml-auto\">\r\n            <p style={{marginRight: \"5px\"}}><b>Hello, {user}</b></p>\r\n            <button style={{height: \"40%\"}} className=\"btn btn-primary btn-sm\" onClick={logout}>Logout</button>\r\n          </div>\r\n              \r\n        </div>\r\n      </nav>\r\n\r\n      \r\n      <div style={{margin: \"30px auto\", width: \"40%\"}}>\r\n\r\n{show ? (\r\n<Alert onClose={() => setShow(false)}>Product added!</Alert>\r\n  ) : (null)}\r\n\r\n        <h4 style={{textAlign: \"center\"}}>Add a New Product</h4>\r\n        <form style={{backgroundColor: \"lightgrey\"}} className=\"rounded p-3\" onSubmit={add}>\r\n        <div className=\"form-group\">\r\n            <h5>Name</h5>\r\n          <input\r\n            required\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(event) => setName(event.target.value)}\r\n          />\r\n        </div>\r\n          \r\n          <div className=\"form-group\">\r\n              <h5>Price</h5>\r\n                <input\r\n                required\r\n                className=\"form-control\"\r\n                  type=\"number\"\r\n                  value={price}\r\n                  onChange={(event) => setPrice(event.target.value)}\r\n                />\r\n        </div>\r\n         \r\n          <div className=\"form-group\">\r\n              <h5>Description</h5>\r\n                <textarea required className=\"form-control\" rows=\"4\" cols=\"50\" value={desc} onChange={(event) => setDesc(event.target.value)}>           \r\n                </textarea>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n              <h5>Image</h5>\r\n                <input\r\n                required\r\n                className=\"form-control\"\r\n                  type=\"file\"\r\n                  \r\n                  onChange={(event) => setImg(event.target.files[0])}\r\n                />\r\n        </div>\r\n          \r\n          <button style={{clear: \"both\"}} type=\"submit\" className=\"btn btn-primary\">\r\n            Add Product\r\n          </button>\r\n        </form>\r\n        <Link style={{float: \"right\", marginTop:\"10px\"}} className=\"btn btn-link\" to={\"/dashboard\"}>Go Back</Link>\r\n      </div>\r\n\r\n\r\n</div>\r\n  );\r\n} else {\r\n  return <Redirect to=\"/admin\" />\r\n  \r\n} \r\n}\r\n\r\nexport default AddProduct;\r\n","C:\\ReactJS\\react-shop-2\\client\\src\\reportWebVitals.js",[],["149","150"],"C:\\ReactJS\\react-shop-2\\client\\src\\CardInput.js",[],"C:\\ReactJS\\react-shop-2\\client\\src\\MyCheckoutForm.js",["151","152","153","154","155","156","157","158"],"C:\\ReactJS\\react-shop-2\\client\\src\\Signin.js",["159","160","161"],"C:\\ReactJS\\react-shop-2\\client\\src\\Signup.js",["162","163","164"],"C:\\ReactJS\\react-shop-2\\client\\src\\Purchased.js",["165","166","167","168","169"],{"ruleId":"170","severity":1,"message":"171","line":1,"column":17,"nodeType":"172","messageId":"173","endLine":1,"endColumn":25},{"ruleId":"170","severity":1,"message":"174","line":20,"column":12,"nodeType":"172","messageId":"173","endLine":20,"endColumn":16},{"ruleId":"175","severity":1,"message":"176","line":88,"column":6,"nodeType":"177","endLine":88,"endColumn":8,"suggestions":"178"},{"ruleId":"170","severity":1,"message":"171","line":1,"column":17,"nodeType":"172","messageId":"173","endLine":1,"endColumn":25},{"ruleId":"170","severity":1,"message":"179","line":1,"column":27,"nodeType":"172","messageId":"173","endLine":1,"endColumn":36},{"ruleId":"180","severity":1,"message":"181","line":34,"column":17,"nodeType":"182","endLine":34,"endColumn":155},{"ruleId":"180","severity":1,"message":"181","line":75,"column":9,"nodeType":"182","endLine":75,"endColumn":46},{"ruleId":"183","replacedBy":"184"},{"ruleId":"185","replacedBy":"186"},{"ruleId":"187","severity":1,"message":"188","line":46,"column":7,"nodeType":"189","messageId":"190","endLine":46,"endColumn":13},{"ruleId":"187","severity":1,"message":"188","line":58,"column":7,"nodeType":"189","messageId":"190","endLine":58,"endColumn":13},{"ruleId":"187","severity":1,"message":"188","line":74,"column":7,"nodeType":"189","messageId":"190","endLine":74,"endColumn":13},{"ruleId":"183","replacedBy":"191"},{"ruleId":"185","replacedBy":"192"},{"ruleId":"170","severity":1,"message":"193","line":3,"column":10,"nodeType":"172","messageId":"173","endLine":3,"endColumn":14},{"ruleId":"170","severity":1,"message":"194","line":4,"column":10,"nodeType":"172","messageId":"173","endLine":4,"endColumn":23},{"ruleId":"170","severity":1,"message":"195","line":14,"column":7,"nodeType":"172","messageId":"173","endLine":14,"endColumn":15},{"ruleId":"170","severity":1,"message":"179","line":1,"column":27,"nodeType":"172","messageId":"173","endLine":1,"endColumn":36},{"ruleId":"180","severity":1,"message":"181","line":33,"column":9,"nodeType":"182","endLine":33,"endColumn":21},{"ruleId":"196","severity":1,"message":"197","line":34,"column":11,"nodeType":"182","endLine":37,"endColumn":11},{"ruleId":"170","severity":1,"message":"198","line":11,"column":24,"nodeType":"172","messageId":"173","endLine":11,"endColumn":32},{"ruleId":"199","severity":1,"message":"200","line":29,"column":20,"nodeType":"201","messageId":"202","endLine":29,"endColumn":22},{"ruleId":"199","severity":1,"message":"203","line":34,"column":53,"nodeType":"201","messageId":"202","endLine":34,"endColumn":55},{"ruleId":"199","severity":1,"message":"203","line":37,"column":54,"nodeType":"201","messageId":"202","endLine":37,"endColumn":56},{"ruleId":"199","severity":1,"message":"200","line":37,"column":69,"nodeType":"201","messageId":"202","endLine":37,"endColumn":71},{"ruleId":"199","severity":1,"message":"203","line":37,"column":118,"nodeType":"201","messageId":"202","endLine":37,"endColumn":120},{"ruleId":"199","severity":1,"message":"200","line":37,"column":133,"nodeType":"201","messageId":"202","endLine":37,"endColumn":135},{"ruleId":"170","severity":1,"message":"204","line":5,"column":8,"nodeType":"172","messageId":"173","endLine":5,"endColumn":18},{"ruleId":"170","severity":1,"message":"205","line":9,"column":12,"nodeType":"172","messageId":"173","endLine":9,"endColumn":18},{"ruleId":"170","severity":1,"message":"179","line":1,"column":27,"nodeType":"172","messageId":"173","endLine":1,"endColumn":36},{"ruleId":"170","severity":1,"message":"206","line":6,"column":8,"nodeType":"172","messageId":"173","endLine":6,"endColumn":13},{"ruleId":"170","severity":1,"message":"198","line":14,"column":22,"nodeType":"172","messageId":"173","endLine":14,"endColumn":30},{"ruleId":"183","replacedBy":"207"},{"ruleId":"185","replacedBy":"208"},{"ruleId":"170","severity":1,"message":"209","line":4,"column":8,"nodeType":"172","messageId":"173","endLine":4,"endColumn":20},{"ruleId":"170","severity":1,"message":"204","line":6,"column":8,"nodeType":"172","messageId":"173","endLine":6,"endColumn":18},{"ruleId":"170","severity":1,"message":"210","line":11,"column":10,"nodeType":"172","messageId":"173","endLine":11,"endColumn":19},{"ruleId":"170","severity":1,"message":"211","line":11,"column":21,"nodeType":"172","messageId":"173","endLine":11,"endColumn":33},{"ruleId":"170","severity":1,"message":"212","line":4,"column":8,"nodeType":"172","messageId":"173","endLine":4,"endColumn":18},{"ruleId":"170","severity":1,"message":"209","line":7,"column":8,"nodeType":"172","messageId":"173","endLine":7,"endColumn":20},{"ruleId":"170","severity":1,"message":"213","line":11,"column":9,"nodeType":"172","messageId":"173","endLine":11,"endColumn":16},{"ruleId":"170","severity":1,"message":"174","line":12,"column":20,"nodeType":"172","messageId":"173","endLine":12,"endColumn":24},{"ruleId":"170","severity":1,"message":"214","line":12,"column":26,"nodeType":"172","messageId":"173","endLine":12,"endColumn":35},{"ruleId":"180","severity":1,"message":"181","line":38,"column":9,"nodeType":"182","endLine":38,"endColumn":75},{"ruleId":"180","severity":1,"message":"215","line":58,"column":19,"nodeType":"182","endLine":58,"endColumn":80},{"ruleId":"183","replacedBy":"216"},{"ruleId":"185","replacedBy":"217"},{"ruleId":"170","severity":1,"message":"179","line":1,"column":27,"nodeType":"172","messageId":"173","endLine":1,"endColumn":36},{"ruleId":"170","severity":1,"message":"218","line":15,"column":16,"nodeType":"172","messageId":"173","endLine":15,"endColumn":24},{"ruleId":"199","severity":1,"message":"200","line":36,"column":11,"nodeType":"201","messageId":"202","endLine":36,"endColumn":13},{"ruleId":"180","severity":1,"message":"181","line":101,"column":9,"nodeType":"182","endLine":101,"endColumn":46},{"ruleId":"170","severity":1,"message":"179","line":1,"column":27,"nodeType":"172","messageId":"173","endLine":1,"endColumn":36},{"ruleId":"170","severity":1,"message":"219","line":2,"column":38,"nodeType":"172","messageId":"173","endLine":2,"endColumn":47},{"ruleId":"170","severity":1,"message":"218","line":10,"column":16,"nodeType":"172","messageId":"173","endLine":10,"endColumn":24},{"ruleId":"180","severity":1,"message":"181","line":97,"column":9,"nodeType":"182","endLine":97,"endColumn":46},{"ruleId":"183","replacedBy":"220"},{"ruleId":"185","replacedBy":"221"},{"ruleId":"170","severity":1,"message":"222","line":4,"column":33,"nodeType":"172","messageId":"173","endLine":4,"endColumn":44},{"ruleId":"170","severity":1,"message":"223","line":6,"column":9,"nodeType":"172","messageId":"173","endLine":6,"endColumn":19},{"ruleId":"170","severity":1,"message":"224","line":8,"column":8,"nodeType":"172","messageId":"173","endLine":8,"endColumn":17},{"ruleId":"170","severity":1,"message":"225","line":9,"column":8,"nodeType":"172","messageId":"173","endLine":9,"endColumn":14},{"ruleId":"170","severity":1,"message":"226","line":10,"column":8,"nodeType":"172","messageId":"173","endLine":10,"endColumn":12},{"ruleId":"170","severity":1,"message":"227","line":12,"column":8,"nodeType":"172","messageId":"173","endLine":12,"endColumn":17},{"ruleId":"170","severity":1,"message":"228","line":21,"column":17,"nodeType":"172","messageId":"173","endLine":21,"endColumn":25},{"ruleId":"199","severity":1,"message":"203","line":48,"column":22,"nodeType":"201","messageId":"202","endLine":48,"endColumn":24},{"ruleId":"170","severity":1,"message":"229","line":3,"column":16,"nodeType":"172","messageId":"173","endLine":3,"endColumn":24},{"ruleId":"170","severity":1,"message":"218","line":9,"column":11,"nodeType":"172","messageId":"173","endLine":9,"endColumn":19},{"ruleId":"180","severity":1,"message":"181","line":73,"column":9,"nodeType":"182","endLine":73,"endColumn":75},{"ruleId":"170","severity":1,"message":"193","line":3,"column":10,"nodeType":"172","messageId":"173","endLine":3,"endColumn":14},{"ruleId":"170","severity":1,"message":"229","line":3,"column":16,"nodeType":"172","messageId":"173","endLine":3,"endColumn":24},{"ruleId":"170","severity":1,"message":"218","line":8,"column":11,"nodeType":"172","messageId":"173","endLine":8,"endColumn":19},{"ruleId":"170","severity":1,"message":"193","line":3,"column":10,"nodeType":"172","messageId":"173","endLine":3,"endColumn":14},{"ruleId":"170","severity":1,"message":"230","line":3,"column":26,"nodeType":"172","messageId":"173","endLine":3,"endColumn":36},{"ruleId":"170","severity":1,"message":"204","line":7,"column":8,"nodeType":"172","messageId":"173","endLine":7,"endColumn":18},{"ruleId":"170","severity":1,"message":"198","line":14,"column":25,"nodeType":"172","messageId":"173","endLine":14,"endColumn":33},{"ruleId":"199","severity":1,"message":"203","line":59,"column":54,"nodeType":"201","messageId":"202","endLine":59,"endColumn":56},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'user' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["231"],"'useEffect' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-native-reassign",["232"],"no-negated-in-lhs",["233"],"no-unreachable","Unreachable code.","BreakStatement","unreachableCode",["232"],["233"],"'Link' is defined but never used.","'useStateValue' is defined but never used.","'loggedIn' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'dispatch' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","'Typography' is defined but never used.","'basket' is assigned a value but never used.","'axios' is defined but never used.",["232"],["233"],"'ReactTooltip' is defined but never used.","'itemToAdd' is assigned a value but never used.","'setItemToAdd' is assigned a value but never used.","'SearchIcon' is defined but never used.","'history' is assigned a value but never used.","'purchases' is assigned a value but never used.","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md",["232"],["233"],"'products' is assigned a value but never used.","'useParams' is defined but never used.",["232"],["233"],"'CardElement' is defined but never used.","'makeStyles' is defined but never used.","'CardInput' is defined but never used.","'Button' is defined but never used.","'Card' is defined but never used.","'TextField' is defined but never used.","'setEmail' is assigned a value but never used.","'Redirect' is defined but never used.","'useHistory' is defined but never used.",{"desc":"234","fix":"235"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"236","text":"237"},[2698,2700],"[dispatch]"]